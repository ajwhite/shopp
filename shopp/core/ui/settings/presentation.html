<div class="wrap shopp">
	<?php if (!empty($updated)): ?><div id="message" class="updated fade"><p><?php echo $updated; ?></p></div><?php endif; ?>
	<h2>Presentation Settings</h2>
	<?php include("navigation.html"); ?>

	<form name="settings" id="presentation" action="<?php echo $_SERVER['REQUEST_URI']; ?>" method="post">
		<?php wp_nonce_field('shopp-settings-presentation'); ?>
		
		<table class="form-table"> 
			<tr class="form-field form-required"> 
				<th scope="row" valign="top"><label for="showcase-order">Theme Templates</label></th> 
				<td>
				<?php switch ($status) {
					case "directory":?>
					<input type="button" name="template_instructions" id="show-instructions" value="Use Custom Templates" class="button-secondary" />
					<div id="template-instructions">
					<p>To customize shopping templates for your current WordPress theme: (<a href="http://docs.shopplugin.net/Customizing_Shopping_Templates">Click here for more help</a>)</p>
					<ol>
						<li>Create a directory in your active theme named <code>shopp</code></li>
						<li>Give your web server access to write to the <code>shopp</code> directory</li>
						<li>Refresh this page for more instructions</li>
					</ol>
					</div>
						<?php
						break;
					case "permissions":?>
					<p>The <code>shopp</code> directory exists in your current WordPress theme, but is not writable.</p>
					<p>You need to give <code>write</code> permissions to the <code>shopp</code> directory to continue. (<a href="http://docs.shopplugin.net/Changing_File_Permissions">Click here for more help</a>)</p>
						<?php
						break;
					case "incomplete":?>
						<input type="submit" name="install" value="Reinstall Missing Templates" class="button-secondary" /><br />
						<p>Some of the shopping templates for your current theme are missing.</p>
						<?php
						break;
					case "ready":?>
						<input type="submit" name="install" value="Install Theme Templates" class="button-secondary" /><br />
						<p>Click this button to copy Shopp's builtin templates into your theme as a starting point for customization.</p>
						<?php
						break;
					default:?>
					<input type="hidden" name="settings[theme_templates]" value="off" /><input type="checkbox" name="settings[theme_templates]" value="on" id="theme-templates"<?php if ($this->Settings->get('theme_templates') != "off") echo ' checked="checked"'?> /><label for="theme-templates"> Enable theme templates</label><br />
					Check this to use the templates installed in your currently active WordPress theme.
						<?php
				}
				?>
	            </td>
			</tr>			
			<tr class="form-field form-required"> 
				<th scope="row" valign="top"><label for="showcase-order">Image Order</label></th> 
				<td><select name="settings[product_showcase_order]" id="showcase-order">
					<option>Order</option>
					<option>Reverse Order</option>
					<option>Shuffle</option>
				</select> by
				<select name="settings[product_showcase_order]" id="showcase-order">
					<option>Custom arrangement</option>
					<option>File name</option>
					<option>Description</option>
					<option>Alt/Title</option>
					<option>Upload date</option>
				</select>
				<br />
	            Set how to organize the presentation of product images.</td>
			</tr>
		<tbody id="gallery-settings">
			<tr class="form-field form-required"> 
				<th scope="row" valign="top"><label for="gallery-small-width">Gallery Image Size</label></th> 
				<td><span id="gallery-small-width-input"><input type="text" name="settings[gallery_small_width]" value="<?php echo $this->Settings->get('gallery_small_width'); ?>" id="gallery-small-width" size="5" /><label for="gallery-small-width"> width</label></span> <span id="gallery-small-height-input"><input type="text" name="settings[gallery_small_height]" value="<?php echo $this->Settings->get('gallery_small_height'); ?>" id="gallery-small-height" size="5" /><label for="gallery-small-height"> height</label></span>
					<p><select name="settings[gallery_small_sizing]" id="gallery-small-sizing">
						<?php echo menuoptions($sizingOptions, $this->Settings->get('gallery_small_sizing'),true); ?>
					</select></p>
					<p><select name="settings[gallery_small_quality]" id="gallery-small-quality">
						<?php echo menuoptions($qualityOptions, $this->Settings->get('gallery_small_quality'),true); ?>
					</select></p>
					<p>Changes to these settings will only affect new images.</p>
					</td>
			</tr>
			<tr class="form-field form-required"> 
				<th scope="row" valign="top"><label for="gallery-thumbnail-width">Thumbnails</label></th> 
				<td><span id="gallery-thumbnail-width-input"><input type="text" name="settings[gallery_thumbnail_width]" value="<?php echo $this->Settings->get('gallery_thumbnail_width'); ?>" id="gallery-thumbnail-width" size="5" /><label for="gallery-thumbnail-width"> width</label></span> <span id="gallery-thumbnail-height-input"><input type="text" name="settings[gallery_thumbnail_height]" value="<?php echo $this->Settings->get('gallery_thumbnail_height'); ?>" id="gallery-thumbnail-height" size="5" /><label for="gallery-thumbnail-height"> height</label></span>
					<p><select name="settings[gallery_thumbnail_sizing]" id="gallery-thumbnail-sizing">
						<?php echo menuoptions($sizingOptions, $this->Settings->get('gallery_thumbnail_sizing'),true); ?>
					</select></p>
					<p><select name="settings[gallery_thumbnail_quality]" id="gallery-thumbnail-quality">
						<?php echo menuoptions($qualityOptions, $this->Settings->get('gallery_thumbnail_quality'),true); ?>
					</select></p>
					<p>Changes to these settings will only affect new images.</p>
					</td>
			</tr>

		</tbody>
		</table>
		<p class="submit"><input type="submit" class="button" name="save" value="Save Changes" /></p>
	</form>
</div>
<script type="text/javascript">
helpurl = "<?php echo SHOPP_DOCS; ?>Presentation_Settings";

(function($){

$('#template-instructions').hide();
$('#show-instructions').click(function () {
	$('#template-instructions').slideToggle(500);
});

})(jQuery);
</script>