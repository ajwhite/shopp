(function(B){B.dimensions={version:"@VERSION"};B.each(["Height","Width"],function(D,C){B.fn["inner"+C]=function(){if(!this[0]){return }var F=C=="Height"?"Top":"Left",E=C=="Height"?"Bottom":"Right";return this.is(":visible")?this[0]["client"+C]:A(this,C.toLowerCase())+A(this,"padding"+F)+A(this,"padding"+E)};B.fn["outer"+C]=function(F){if(!this[0]){return }var H=C=="Height"?"Top":"Left",E=C=="Height"?"Bottom":"Right";F=B.extend({margin:false},F||{});var G=this.is(":visible")?this[0]["offset"+C]:A(this,C.toLowerCase())+A(this,"border"+H+"Width")+A(this,"border"+E+"Width")+A(this,"padding"+H)+A(this,"padding"+E);return G+(F.margin?(A(this,"margin"+H)+A(this,"margin"+E)):0)}});B.each(["Left","Top"],function(D,C){B.fn["scroll"+C]=function(E){if(!this[0]){return }return E!=undefined?this.each(function(){this==window||this==document?window.scrollTo(C=="Left"?E:B(window)["scrollLeft"](),C=="Top"?E:B(window)["scrollTop"]()):this["scroll"+C]=E}):this[0]==window||this[0]==document?self[(C=="Left"?"pageXOffset":"pageYOffset")]||B.boxModel&&document.documentElement["scroll"+C]||document.body["scroll"+C]:this[0]["scroll"+C]}});B.fn.extend({position:function(){var H=0,G=0,F=this[0],I,C,E,D;if(F){E=this.offsetParent();I=this.offset();C=E.offset();I.top-=A(F,"marginTop");I.left-=A(F,"marginLeft");C.top+=A(E,"borderTopWidth");C.left+=A(E,"borderLeftWidth");D={top:I.top-C.top,left:I.left-C.left}}return D},offsetParent:function(){var C=this[0].offsetParent;while(C&&(!/^body|html$/i.test(C.tagName)&&B.css(C,"position")=="static")){C=C.offsetParent}return B(C)}});function A(C,D){return parseInt(B.curCSS(C.jquery?C[0]:C,D,true))||0}})(jQuery);(function(A){A.ui=A.ui||{};A.extend(A.ui,{plugin:{add:function(C,D,F){var E=A.ui[C].prototype;for(var B in F){E.plugins[B]=E.plugins[B]||[];E.plugins[B].push([D,F[B]])}},call:function(B,C,E){var F=B.plugins[C];if(!F){return }for(var D=0;D<F.length;D++){if(B.options[F[D][0]]){F[D][1].apply(B.element,E)}}}},cssCache:{},css:function(B){if(A.ui.cssCache[B]){return A.ui.cssCache[B]}var C=A("<div class='ui-resizable-gen'>").addClass(B).css({position:"absolute",top:"-5000px",left:"-5000px",display:"block"}).appendTo("body");A.ui.cssCache[B]=!!((/^[1-9]/.test(C.css("height"))||/^[1-9]/.test(C.css("width"))||!/none/.test(C.css("backgroundImage"))||!/transparent|rgba\(0, 0, 0, 0\)/.test(C.css("backgroundColor"))));try{A("body").get(0).removeChild(C.get(0))}catch(D){}return A.ui.cssCache[B]},disableSelection:function(B){if(!B){return }B.unselectable="on";B.onselectstart=function(){return false};if(B.style){B.style.MozUserSelect="none"}},enableSelection:function(B){if(!B){return }B.unselectable="off";B.onselectstart=function(){return true};if(B.style){B.style.MozUserSelect=""}}});A.fn.extend({mouseInteraction:function(B){return this.each(function(){new A.ui.mouseInteraction(this,B)})},removeMouseInteraction:function(B){return this.each(function(){if(A.data(this,"ui-mouse")){A.data(this,"ui-mouse").destroy()}})}});A.ui.mouseInteraction=function(D,C){var B=this;this.element=D;A.data(this.element,"ui-mouse",this);this.options=A.extend({},C);A(D).bind("mousedown.draggable",function(){return B.click.apply(B,arguments)});if(A.browser.msie){A(D).attr("unselectable","on")}};A.extend(A.ui.mouseInteraction.prototype,{destroy:function(){A(this.element).unbind("mousedown.draggable")},trigger:function(){return this.click.apply(this,arguments)},click:function(D){if(D.which!=1||A.inArray(D.target.nodeName.toLowerCase(),this.options.dragPrevention)!=-1||(this.options.condition&&!this.options.condition.apply(this.options.executor||this,[D,this.element]))){return true}var C=this;var B=function(){window.focus();C._MP={left:D.pageX,top:D.pageY};A(document).bind("mouseup.draggable",function(){return C.stop.apply(C,arguments)});A(document).bind("mousemove.draggable",function(){return C.drag.apply(C,arguments)})};if(this.options.delay){if(this.timer){clearInterval(this.timer)}this.timer=setTimeout(B,this.options.delay)}else{B()}return false},stop:function(B){var C=this.options;if(!this.initialized){return A(document).unbind("mouseup.draggable").unbind("mousemove.draggable")}if(this.options.stop){this.options.stop.call(this.options.executor||this,B,this.element)}A(document).unbind("mouseup.draggable").unbind("mousemove.draggable");this.initialized=false;return false},drag:function(B){var C=this.options;if(A.browser.msie&&!B.button){return this.stop.apply(this,[B])}if(!this.initialized&&(Math.abs(this._MP.left-B.pageX)>=C.distance||Math.abs(this._MP.top-B.pageY)>=C.distance)){if(this.options.start){this.options.start.call(this.options.executor||this,B,this.element)}this.initialized=true}else{if(!this.initialized){return false}}if(C.drag){C.drag.call(this.options.executor||this,B,this.element)}return false}})})(jQuery);(function(A){A.ui=A.ui||{};A.extend(A.expr[":"],{draggable:"(' '+a.className+' ').indexOf(' ui-draggable ')"});A.fn.extend({draggable:function(C){var B=Array.prototype.slice.call(arguments,1);return this.each(function(){if(typeof C=="string"){var D=A.data(this,"ui-draggable");D[C].apply(D,B)}else{if(!A.data(this,"ui-draggable")){new A.ui.draggable(this,C)}}})}});A.ui.draggable=function(D,C){var B=this;this.element=A(D);A.data(D,"ui-draggable",this);this.element.addClass("ui-draggable");this.options=A.extend({},C);var E=this.options;A.extend(E,{helper:E.ghosting==true?"clone":(E.helper||"original"),handle:E.handle?(A(E.handle,D)[0]?A(E.handle,D):this.element):this.element,appendTo:E.appendTo||"parent"});A(D).bind("setData.draggable",function(G,F,H){B.options[F]=H}).bind("getData.draggable",function(G,F){return B.options[F]});A(E.handle).mouseInteraction({executor:this,delay:E.delay,distance:E.distance||0,dragPrevention:E.prevention?E.prevention.toLowerCase().split(","):["input","textarea","button","select","option"],start:this.start,stop:this.stop,drag:this.drag,condition:function(F){return !(F.target.className.indexOf("ui-resizable-handle")!=-1||this.disabled)}});if(E.helper=="original"&&(this.element.css("position")=="static"||this.element.css("position")=="")){this.element.css("position","relative")}};A.extend(A.ui.draggable.prototype,{plugins:{},ui:function(B){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,instance:this,options:this.options}},propagate:function(C,B){A.ui.plugin.call(this,C,[B,this.ui()]);return this.element.triggerHandler(C=="drag"?C:"drag"+C,[B,this.ui()],this.options[C])},destroy:function(){this.handle.removeMouseInteraction();this.element.removeClass("ui-draggable ui-draggable-disabled").removeData("ui-draggable").unbind(".draggable")},enable:function(){this.element.removeClass("ui-draggable-disabled");this.disabled=false},disable:function(){this.element.addClass("ui-draggable-disabled");this.disabled=true},recallOffset:function(D){var C={left:this.elementOffset.left-this.offsetParentOffset.left,top:this.elementOffset.top-this.offsetParentOffset.top};var B=this.helper.css("position")=="relative";this.originalPosition={left:(B?parseInt(this.helper.css("left"))||0:C.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft)),top:(B?parseInt(this.helper.css("top"))||0:C.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop))};this.offset={left:this._pageX-this.originalPosition.left,top:this._pageY-this.originalPosition.top}},start:function(D){var E=this.options;if(A.ui.ddmanager){A.ui.ddmanager.current=this}this.helper=typeof E.helper=="function"?A(E.helper.apply(this.element[0],[D])):(E.helper=="clone"?this.element.clone().appendTo((E.appendTo=="parent"?this.element[0].parentNode:E.appendTo)):this.element);if(this.helper[0]!=this.element[0]){this.helper.css("position","absolute")}if(!this.helper.parents("body").length){this.helper.appendTo((E.appendTo=="parent"?this.element[0].parentNode:E.appendTo))}this.offsetParent=(function(F){while(F){if(F.style&&(/(absolute|relative|fixed)/).test(A.css(F,"position"))){return A(F)}F=F.parentNode?F.parentNode:null}return A("body")})(this.helper[0].parentNode);this.elementOffset=this.element.offset();this.offsetParentOffset=this.offsetParent.offset();var C={left:this.elementOffset.left-this.offsetParentOffset.left,top:this.elementOffset.top-this.offsetParentOffset.top};this._pageX=D.pageX;this._pageY=D.pageY;this.clickOffset={left:D.pageX-this.elementOffset.left,top:D.pageY-this.elementOffset.top};var B=this.helper.css("position")=="relative";this.originalPosition={left:(B?parseInt(this.helper.css("left"))||0:C.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft)),top:(B?parseInt(this.helper.css("top"))||0:C.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop))};this.offset={left:D.pageX-this.originalPosition.left,top:D.pageY-this.originalPosition.top};this.propagate("start",D);this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};if(A.ui.ddmanager&&!E.dropBehaviour){A.ui.ddmanager.prepareOffsets(this,D)}if(E.cursorAt){if(E.cursorAt.top!=undefined||E.cursorAt.bottom!=undefined){this.offset.top-=this.clickOffset.top-(E.cursorAt.top!=undefined?E.cursorAt.top:(this.helperProportions.height-E.cursorAt.bottom));this.clickOffset.top=(E.cursorAt.top!=undefined?E.cursorAt.top:(this.helperProportions.height-E.cursorAt.bottom))}if(E.cursorAt.left!=undefined||E.cursorAt.right!=undefined){this.offset.left-=this.clickOffset.left-(E.cursorAt.left!=undefined?E.cursorAt.left:(this.helperProportions.width-E.cursorAt.right));this.clickOffset.left=(E.cursorAt.left!=undefined?E.cursorAt.left:(this.helperProportions.width-E.cursorAt.right))}}return false},clear:function(){if(A.ui.ddmanager){A.ui.ddmanager.current=null}this.helper=null},stop:function(B){if(A.ui.ddmanager&&!this.options.dropBehaviour){A.ui.ddmanager.drop(this,B)}this.propagate("stop",B);if(this.cancelHelperRemoval){return false}if(this.options.helper!="original"){this.helper.remove()}this.clear();return false},drag:function(B){this.position={top:B.pageY-this.offset.top,left:B.pageX-this.offset.left};this.positionAbs={left:B.pageX-this.clickOffset.left,top:B.pageY-this.clickOffset.top};this.position=this.propagate("drag",B)||this.position;this.helper.css({left:this.position.left+"px",top:this.position.top+"px"});if(A.ui.ddmanager){A.ui.ddmanager.drag(this,B)}return false}})})(jQuery);(function(A){A.ui=A.ui||{};A.extend(A.expr[":"],{droppable:"(' '+a.className+' ').indexOf(' ui-droppable ')"});A.fn.extend({droppable:function(C){var B=Array.prototype.slice.call(arguments,1);return this.each(function(){if(typeof C=="string"){var D=A.data(this,"ui-droppable");D[C].apply(D,B)}else{if(!A.data(this,"ui-droppable")){new A.ui.droppable(this,C)}}})},});A.ui.droppable=function(D,B){this.element=A(D);A.data(D,"ui-droppable",this);this.element.addClass("ui-droppable");this.options=A.extend({},B);var E=this.options;var C=E.accept;A.extend(E,{accept:E.accept&&E.accept.constructor==Function?E.accept:function(F){return A(F).is(C)},tolerance:E.tolerance||"intersect"});A(D).bind("setData.draggable",function(G,F,H){E[F]=H}).bind("getData.draggable",function(G,F){return E[F]});this.proportions={width:this.element.outerWidth(),height:this.element.outerHeight()};A.ui.ddmanager.droppables.push({item:this,over:0,out:1})};A.extend(A.ui.droppable.prototype,{plugins:{},ui:function(B){return{draggable:B,instance:this,element:B.element,helper:B.helper,position:B.position,absolutePosition:B.positionAbs,options:this.options}},destroy:function(){var B=A.ui.ddmanager.droppables;for(var C=0;C<B.length;C++){if(B[C].item==this){B.splice(C,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("ui-droppable").unbind(".droppable")},enable:function(){this.element.removeClass("ui-droppable-disabled");this.disabled=false},disable:function(){this.element.addClass("ui-droppable-disabled");this.disabled=true},over:function(C){var B=A.ui.ddmanager.current;if(!B||B.element==this.element){return }if(this.options.accept(B.element)){A.ui.plugin.call(this,"over",[C,this.ui(B)]);this.element.triggerHandler("dropover",[C,this.ui(B)],this.options.over)}},out:function(C){var B=A.ui.ddmanager.current;if(!B||B.element==this.element){return }if(this.options.accept(B.element)){A.ui.plugin.call(this,"out",[C,this.ui(B)]);this.element.triggerHandler("dropout",[C,this.ui(B)],this.options.out)}},drop:function(C){var B=A.ui.ddmanager.current;if(!B||B.element==this.element){return }if(this.options.accept(B.element)){A.ui.plugin.call(this,"drop",[C,this.ui(B)]);this.element.triggerHandler("drop",[C,this.ui(B)],this.options.drop)}},activate:function(C){var B=A.ui.ddmanager.current;A.ui.plugin.call(this,"activate",[C,this.ui(B)]);if(B){this.element.triggerHandler("dropactivate",[C,this.ui(B)],this.options.activate)}},deactivate:function(C){var B=A.ui.ddmanager.current;A.ui.plugin.call(this,"deactivate",[C,this.ui(B)]);if(B){this.element.triggerHandler("dropdeactivate",[C,this.ui(B)],this.options.deactivate)}}});A.ui.intersect=function(L,F,J){if(!F.offset){return false}var D=L.positionAbs.left,C=D+L.helperProportions.width,I=L.positionAbs.top,H=I+L.helperProportions.height;var E=F.offset.left,B=E+F.item.proportions.width,K=F.offset.top,G=K+F.item.proportions.height;switch(J){case"fit":return(E<D&&C<B&&K<I&&H<G);break;case"intersect":return(E<D+(L.helperProportions.width/2)&&C-(L.helperProportions.width/2)<B&&K<I+(L.helperProportions.height/2)&&H-(L.helperProportions.height/2)<G);break;case"pointer":return(E<(L.positionAbs.left+L.clickOffset.left)&&(L.positionAbs.left+L.clickOffset.left)<B&&K<(L.positionAbs.top+L.clickOffset.top)&&(L.positionAbs.top+L.clickOffset.top)<G);break;case"touch":return((E<D&&D<B&&K<I&&I<G)||(E<D&&D<B&&K<H&&H<G)||(E<C&&C<B&&K<I&&I<G)||(E<C&&C<B&&K<H&&H<G));break;default:return false;break}};A.ui.ddmanager={current:null,droppables:[],prepareOffsets:function(D,E){var B=A.ui.ddmanager.droppables;for(var C=0;C<B.length;C++){if(B[C].item.disabled){continue}B[C].offset=A(B[C].item.element).offset();if(D&&B[C].item.options.accept(D.element)){B[C].item.activate.call(B[C].item,E)}}},drop:function(B,C){A.each(A.ui.ddmanager.droppables,function(){if(!this.item.disabled&&A.ui.intersect(B,this,this.item.options.tolerance)){this.item.drop.call(this.item,C)}if(!this.item.disabled&&this.item.options.accept(B.element)){this.out=1;this.over=0;this.item.deactivate.call(this.item,C)}})},drag:function(B,C){if(B.options.refreshPositions){A.ui.ddmanager.prepareOffsets()}A.each(A.ui.ddmanager.droppables,function(){if(this.item.disabled){return false}var D=A.ui.intersect(B,this,this.item.options.tolerance);var E=!D&&this.over==1?"out":(D&&this.over==0?"over":null);if(!E){return }this[E]=1;this[E=="out"?"over":"out"]=0;this.item[E].call(this.item,C)})}}})(jQuery);if(window.Node&&Node.prototype&&!Node.prototype.contains){Node.prototype.contains=function(A){return !!(this.compareDocumentPosition(A)&16)}}(function(A){A.extend(A.expr[":"],{sortable:"(' '+a.className+' ').indexOf(' ui-sortable ')"});A.fn.extend({sortable:function(B){if(B=="serialize"){return A.data(this,"ui-sortable").serialize()}return this.each(function(){if(typeof B=="string"){var C=A.data(this,"ui-sortable");C[B].apply(C,args)}else{if(!A.data(this,"ui-sortable")){new A.ui.sortable(this,B)}}})}});A.ui.sortable=function(D,C){var B=this;this.element=A(D);A.data(D,"ui-sortable",this);this.element.addClass("ui-sortable");this.options=A.extend({},C);var E=this.options;A.extend(E,{items:this.options.items||"> *",zIndex:this.options.zIndex||1000,startCondition:function(){return !B.disabled}});A(D).bind("setData.sortable",function(G,F,H){B.options[F]=H}).bind("getData.sortable",function(G,F){return B.options[F]});this.refresh();this.floating=/left|right/.test(this.items[0].item.css("float"));if(!/(relative|absolute|fixed)/.test(this.element.css("position"))){this.element.css("position","relative")}this.offset=this.element.offset({border:false});this.element.mouseInteraction({executor:this,delay:E.delay,distance:E.distance||0,dragPrevention:E.prevention?E.prevention.toLowerCase().split(","):["input","textarea","button","select","option"],start:this.start,stop:this.stop,drag:this.drag,condition:function(H){if(this.disabled){return false}var G=null,F=A(H.target).parents().andSelf().each(function(){if(A.data(this,"ui-sortable-item")){G=A(this)}});if(G){this.currentItem=G;return true}else{return false}}})};A.extend(A.ui.sortable.prototype,{plugins:{},ui:function(){return{helper:this.helper,placeholder:this.placeholder||A([]),position:this.position,absolutePosition:this.positionAbs,instance:this,options:this.options}},propagate:function(C,B){A.ui.plugin.call(this,C,[B,this.ui()]);this.element.triggerHandler(C=="sort"?C:"sort"+C,[B,this.ui()],this.options[C])},serialize:function(D){var B=A(this.options.items,this.element);var C="";D=D||{};A(this.options.items,this.element).each(function(){var E=(this.getAttribute(D.attribute||"id")||"").match(D.expression||/(.+)[-=_](.+)/);if(E){C+=E[1]+"[]="+E[2]}});return C},intersectsWith:function(I){var D=this.positionAbs.left,C=D+this.helperProportions.width,H=this.positionAbs.top,G=H+this.helperProportions.height;var E=I.left,B=E+I.width,J=I.top,F=J+I.height;return(E<D+(this.helperProportions.width/2)&&C-(this.helperProportions.width/2)<B&&J<H+(this.helperProportions.height/2)&&G-(this.helperProportions.height/2)<F)},refresh:function(){this.items=[];var B=this.items;var C=[A(this.options.items,this.element)];if(this.options.connectWith){for(var D=this.options.connectWith.length-1;D>=0;D--){var E=A.data(A(this.options.connectWith[D])[0],"ui-sortable");if(E&&!E.disabled){C.push(A(E.options.items,E.element))}}}for(var D=C.length-1;D>=0;D--){C[D].each(function(){A.data(this,"ui-sortable-item",true);B.push({item:A(this),width:0,height:0,left:0,top:0})})}},refreshPositions:function(B){for(var C=this.items.length-1;C>=0;C--){if(!B){this.items[C].width=this.items[C].item.outerWidth()}if(!B){this.items[C].height=this.items[C].item.outerHeight()}var D=this.items[C].item.offset();this.items[C].left=D.left;this.items[C].top=D.top}},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("ui-sortable").unbind(".sortable").removeMouseInteraction();for(var B=this.items.length-1;B>=0;B--){this.items[B].item.removeData("ui-sortable-item")}},enable:function(){this.element.removeClass("ui-sortable-disabled");this.disabled=false},disable:function(){this.element.addClass("ui-sortable-disabled");this.disabled=true},createPlaceholder:function(){this.placeholderElement=this.options.placeholderElement?A(this.options.placeholderElement,this.currentItem):this.currentItem;this.placeholder=A("<div></div>").addClass(this.options.placeholder).appendTo("body").css({position:"absolute"}).css(this.placeholderElement.offset()).css({width:this.placeholderElement.outerWidth(),height:this.placeholderElement.outerHeight()})},recallOffset:function(D){var C={left:this.elementOffset.left-this.offsetParentOffset.left,top:this.elementOffset.top-this.offsetParentOffset.top};var B=this.helper.css("position")=="relative";this.originalPosition={left:(B?parseInt(this.helper.css("left"))||0:C.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft)),top:(B?parseInt(this.helper.css("top"))||0:C.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop))};this.offset={left:this._pageX-this.originalPosition.left+(parseInt(this.currentItem.css("marginLeft"))||0),top:this._pageY-this.originalPosition.top+(parseInt(this.currentItem.css("marginTop"))||0)}},start:function(D){var E=this.options;this.refresh();this.refreshPositions();this.helper=typeof E.helper=="function"?A(E.helper.apply(this.element[0],[D,this.currentItem])):this.currentItem.clone();this.helper.appendTo(this.currentItem[0].parentNode).css("position","absolute").css("float","none").css("clear","both");this.offsetParent=(function(F){while(F){if(F.style&&(/(absolute|relative|fixed)/).test(A.css(F,"position"))){return A(F)}F=F.parentNode?F.parentNode:null}return A("body")})(this.helper[0].parentNode);this.elementOffset=this.currentItem.offset();this.offsetParentOffset=this.offsetParent.offset();var C={left:this.elementOffset.left-this.offsetParentOffset.left,top:this.elementOffset.top-this.offsetParentOffset.top};this._pageX=D.pageX;this._pageY=D.pageY;this.clickOffset={left:D.pageX-this.elementOffset.left,top:D.pageY-this.elementOffset.top};var B=this.helper.css("position")=="relative";this.originalPosition={left:(B?parseInt(this.helper.css("left"))||0:C.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft)),top:(B?parseInt(this.helper.css("top"))||0:C.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop))};this.offset={left:D.pageX-this.originalPosition.left+(parseInt(this.currentItem.css("marginLeft"))||0),top:D.pageY-this.originalPosition.top+(parseInt(this.currentItem.css("marginTop"))||0)};this.position={top:D.pageY-this.offset.top,left:D.pageX-this.offset.left};this.positionAbs={left:D.pageX-this.clickOffset.left,top:D.pageY-this.clickOffset.top};this.positionDOM=this.currentItem.prev()[0];if(E.placeholder){this.createPlaceholder()}this.propagate("start",D);this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};A(this.currentItem).css("visibility","hidden");return false},stop:function(B){this.propagate("stop",B);if(this.positionDOM!=this.currentItem.prev()[0]){this.propagate("update",B)}if(this.cancelHelperRemoval){return false}A(this.currentItem).css("visibility","visible");if(this.placeholder){this.placeholder.remove()}this.helper.remove();return false},drag:function(C){this.direction=(this.floating&&this.positionAbs.left>C.pageX-this.clickOffset.left)||(this.positionAbs.top>C.pageY-this.clickOffset.top)?"down":"up";this.position={top:C.pageY-this.offset.top,left:C.pageX-this.offset.left};this.positionAbs={left:C.pageX-this.clickOffset.left,top:C.pageY-this.clickOffset.top};for(var B=this.items.length-1;B>=0;B--){if(this.intersectsWith(this.items[B])&&this.items[B].item[0]!=this.currentItem[0]&&(this.options.tree?!this.currentItem[0].contains(this.items[B].item[0]):true)){this.items[B].item[this.direction=="down"?"before":"after"](this.currentItem);this.refreshPositions(true);if(this.placeholderElement){this.placeholder.css(this.placeholderElement.offset())}this.propagate("change",C);break}}this.propagate("sort",C);this.helper.css({left:this.position.left+"px",top:this.position.top+"px"});return false}})})(jQuery);