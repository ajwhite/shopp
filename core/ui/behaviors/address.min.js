/*
 * address.js - Description
 * Copyright Â© 2012 by Ingenesis Limited. All rights reserved.
 * Licensed under the GPLv3 {@see license.txt}
 */
(function(a){jQuery.fn.upstate=function(){a(this).change(function(g,j){var f=a(this),d=f.attr("id").split("-")[0],i=f.val(),c=a("#"+d+"-state"),h=a("#"+d+"-state-menu"),b='<option value=""></option>';if(h.length==0){return true}if(h.hasClass("hidden")){h.removeClass("hidden").hide()}if(regions[i]||(j&&h.find("option").length>1)){c.setDisabled(true).addClass("_important").hide();if(regions[i]){a.each(regions[i],function(k,e){b+='<option value="'+k+'">'+e+"</option>"});if(!j){h.empty().append(b).setDisabled(false).show().focus()}}h.setDisabled(false).show();a("label[for="+c.attr("id")+"]").attr("for",h.attr("id"))}else{h.empty().setDisabled(true).hide();c.setDisabled(false).show().removeClass("_important");a("label[for="+h.attr("id")+"]").attr("for",c.attr("id"));if(!j){c.val("").focus()}}}).trigger("change",[true]);return a(this)}})(jQuery);jQuery(document).ready(function(a){a("#billing-country,#shipping-country").upstate()});